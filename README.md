# 🎙️ AI语音台账 - 智能营销助手

> **一款革命性的AI语音应用，让营销记录从此告别繁琐文字输入！**

通过先进的语音识别和AI分析技术，自动将语音转换为结构化的营销台账，并无缝同步到飞书多维表格。

## ✨ 项目亮点

### 🚀 **零配置启动**
- **纯前端架构**：无需后端服务器，打开即用
- **免费文件托管**：自动上传到免费云服务，无需配置存储
- **演示数据丰富**：内置完整演示案例，立即体验完整流程

### 🎯 **AI智能分析**
- **多维度提取**：自动识别客户画像、需求激发、异议处理等关键信息
- **结构化输出**：标准化的JSON格式，便于后续分析和统计
- **智能回填**：分析失败时自动使用演示数据，确保流程顺畅

### 🔗 **飞书深度集成**
- **一键导入**：分析完成后直接同步到飞书多维表格
- **字段映射**：智能匹配台账字段，无需手动调整
- **实时同步**：支持批量导入和增量更新

### 🎨 **极致用户体验**
- **音乐级UI**：借鉴QQ音乐的黑胶唱片设计，视觉效果震撼
- **流畅交互**：支持键盘快捷键、触摸手势、语音控制
- **智能适配**：完美支持桌面端和移动端

### 🛡️ **企业级稳定性**
- **多重容错**：ASR失败、LLM超时、网络异常等场景全覆盖
- **自动降级**：真实API不可用时自动切换到模拟模式
- **数据安全**：本地存储 + 云端备份双重保障

## 🎯 适用场景

| 场景 | 描述 | 核心价值 |
|------|------|----------|
| **面访跟踪** | 客户拜访后的情况记录 | 快速记录客户反馈，制定跟进策略 |
| **客户盘点** | 定期客户关系梳理 | 系统化管理客户资源，发现商机 |
| **经验总结** | 成功案例的复盘分析 | 沉淀最佳实践，提升团队能力 |
| **失败复盘** | 失败案例的深度反思 | 避免重复错误，优化销售策略 |

## 🚀 技术架构

### 🎯 **核心技术栈**

| 技术层 | 技术选型 | 核心优势 |
|--------|----------|----------|
| **前端框架** | Vanilla JavaScript | 零依赖，轻量高效，兼容性强 |
| **音频处理** | Web Audio API + MediaRecorder | 原生支持，跨平台兼容 |
| **语音识别** | 阿里云Paraformer-v2 | 多语种支持，识别精度高 |
| **AI分析** | Google Gemini Pro | 强大语言理解，结构化输出 |
| **数据同步** | 飞书开放平台API | 企业级集成，实时同步 |
| **文件存储** | 多源免费托管 | 零成本，高可用性 |

### 🛡️ **多重容错机制**

```javascript
// 智能降级示例
async function processWithFallback() {
    try {
        return await realAPI();
    } catch (error) {
        console.warn('真实API失败，使用演示数据');
        return await mockAPI();
    }
}
```

- **ASR容错**：识别失败时自动使用演示转录
- **LLM容错**：分析超时时智能回填结构化数据  
- **网络容错**：多个文件托管服务自动切换
- **格式容错**：音频格式不兼容时自动转换

### 📊 **完整业务流程**

```
🎙️ 语音录入 → 📁 文件上传 → 🔊 语音识别 → 🤖 AI分析 → 📋 结构化提取 → 📊 飞书同步
                                                    ↑
                                            🎭 演示数据智能回填
```

## 🚀 快速开始

### 🔧 **环境要求**
- 现代浏览器（Chrome 60+, Firefox 55+, Safari 11+）
- 支持Web Audio API和MediaRecorder API
- 麦克风权限
- 网络连接（用于API调用）

### ⚡ **一键启动**

```bash
# 1. 克隆项目
git clone https://github.com/your-repo/ai-voice-ledger.git
cd ai-voice-ledger

# 2. 启动本地服务器
python -m http.server 8000
# 或者
npx serve .

# 3. 打开浏览器
open http://localhost:8000
```

### 🎯 **零配置体验**
1. **立即体验**：打开页面即可使用演示数据
2. **真实API**：点击设置按钮配置API Key
3. **飞书集成**：配置飞书应用信息启用同步

## 🎨 界面设计

### 🎵 **音乐级UI设计**
- **黑胶唱片界面**：可旋转的视觉效果，播放时动态旋转
- **毛玻璃效果**：现代化的半透明设计
- **渐变色彩**：科技感十足的配色方案
- **流畅动画**：60fps的丝滑交互体验

### 📱 **双主界面架构**

#### 🏠 **主页**
- **录音模块**：中央大型录音按钮，一键开始
- **我的收藏**：历史录音记录管理
- **热门精选**：优质录音推荐和学习

#### 🎵 **播放页**
- **音频控制**：播放/暂停、进度控制、音量调节
- **内容切换**：转录文本、要点提炼、迁移延伸三大标签
- **一键导入**：分析完成后直接同步到飞书

## 📊 数据结构

### 🔍 **AI分析结果**

```json
{
  "businessType": "面访跟踪",
  "customerInfo": {
    "name": "张总",
    "customerId": "C001"
  },
  "customerProfile": ["中年", "已婚", "企业主", "制造业"],
  "followUpPlan": "下周准备详细保障方案，重点突出分期缴费的灵活性",
  "optionalFields": {
    "demandStimulation": "通过行业竞争激烈的现状，激发客户对风险保障的需求",
    "objectionHandling": "针对保费预算问题，提供分期缴费解决方案",
    "customerTouchPoint": "家庭责任感和企业风险意识",
    "failureReview": "客户对产品理解不够深入，需要更多案例说明",
    "extendedThinking": "可以通过同行业成功案例来增强说服力..."
  }
}
```

### 🔗 **飞书字段映射**

| 本地字段 | 飞书字段 | 数据类型 | 说明 |
|----------|----------|----------|------|
| businessType | 业务类别 | 单选 | 面访跟踪/客户盘点/经验总结/失败复盘 |
| customerInfo.name | 客户姓名 | 文本 | 客户的姓名或称呼 |
| customerProfile | 客户画像 | 多选 | 客户特征标签数组 |
| followUpPlan | 跟进计划 | 多行文本 | 具体的后续行动计划 |

## 🎮 交互功能

### ⌨️ **键盘快捷键**
- **空格键**：开始/停止录音
- **ESC键**：返回主页
- **左右箭头**：切换Tab页
- **Enter键**：确认操作

### 📱 **触摸手势**
- **向右滑动**：返回上一页
- **双击**：播放/暂停
- **长按**：显示更多选项
- **上下滑动**：滚动内容

### 🎯 **视觉反馈**
- **脉冲动画**：录音状态指示
- **波纹效果**：按钮点击反馈
- **进度指示**：处理状态显示
- **状态提示**：成功/错误消息

## ⚙️ 配置指南

### 🔑 **API密钥配置**

#### 1. 阿里云DashScope（语音识别）
```bash
# 访问阿里云百炼平台
https://bailian.console.aliyun.com/

# 获取API Key后在设置中配置
```

#### 2. Google Gemini（AI分析）
```bash
# 访问Google AI Studio
https://aistudio.google.com/

# 创建API Key后在设置中配置
```

#### 3. 飞书开放平台（数据同步）
```bash
# 访问飞书开放平台
https://open.feishu.cn/

# 创建应用并获取App ID和App Secret
```

### 🔧 **高级配置**

```javascript
// 在 js/config.js 中自定义配置
const config = {
  // ASR配置
  asr: {
    language: 'zh-CN',  // 识别语言
    format: 'wav',      // 音频格式
    sampleRate: 16000   // 采样率
  },
  
  // LLM配置
  llm: {
    temperature: 0.4,   // 创造性程度
    maxTokens: 4096,    // 最大输出长度
    model: 'gemini-pro' // 模型版本
  },
  
  // UI配置
  ui: {
    theme: 'dark',      // 主题色彩
    animations: true,   // 动画效果
    autoSave: true      // 自动保存
  }
};
```

## 📱 浏览器兼容性

| 功能 | Chrome | Firefox | Safari | Edge | 移动端 |
|------|--------|---------|--------|------|--------|
| 录音功能 | ✅ 60+ | ✅ 55+ | ✅ 11+ | ✅ 79+ | ✅ |
| 音频播放 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 本地存储 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 响应式设计 | ✅ | ✅ | ✅ | ✅ | ✅ |
| 触摸手势 | ✅ | ✅ | ✅ | ✅ | ✅ |

## 🚧 已知限制

### ⚠️ **技术限制**
1. **录音格式**：依赖浏览器支持，主要为WebM格式
2. **文件大小**：localStorage有容量限制，长录音需要云存储
3. **离线功能**：需要网络连接进行API调用
4. **跨域限制**：需要HTTPS环境或本地服务器

### 🔄 **解决方案**
- **格式转换**：自动检测并转换音频格式
- **云端存储**：支持多种免费文件托管服务
- **离线缓存**：关键数据本地缓存
- **HTTPS部署**：提供部署指南

## 🔮 未来规划

### 📅 **短期目标（1-3个月）**
- [ ] 🎵 音频压缩和格式优化
- [ ] 📱 移动端体验优化
- [ ] 🔍 高级搜索和筛选功能
- [ ] 📊 数据统计和分析报表

### 🚀 **中期目标（3-6个月）**
- [ ] 👥 团队协作功能
- [ ] 🤖 智能推荐系统
- [ ] 🌐 多语言支持
- [ ] 🔐 企业级安全加固

### 🌟 **长期愿景（6个月+）**
- [ ] 📱 原生移动APP
- [ ] 🧠 更强大的AI分析能力
- [ ] 🔗 更多第三方平台集成
- [ ] 🏢 SaaS化服务

## 📚 相关文档

- [📖 纯前端ASR使用指南](纯前端ASR使用指南.md)
- [🔧 解决CORS问题指南](解决CORS问题指南.md)
- [🏗️ 后端部署配置](backend-setup.md)
- [🎨 UI设计规范](docs/ui-design.md)
- [🔌 API接口文档](docs/api-docs.md)

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

### 🔧 **开发环境搭建**
```bash
git clone https://github.com/your-repo/ai-voice-ledger.git
cd ai-voice-ledger
npm install  # 如果有依赖
```

### 📝 **提交规范**
- feat: 新功能
- fix: 修复bug
- docs: 文档更新
- style: 代码格式调整
- refactor: 代码重构

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 📧 邮箱: your-email@example.com
- 💬 微信: your-wechat-id
- 🐛 Issues: [GitHub Issues](https://github.com/your-repo/ai-voice-ledger/issues)

---

**🎯 注意**: 这是一个功能完整的演示原型，可直接用于产品验证和用户体验测试。生产环境使用需要进一步的安全加固和性能优化。

**⭐ 如果这个项目对您有帮助，请给我们一个Star！**
