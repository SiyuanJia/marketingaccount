# 纯前端ASR使用指南

## 🎯 概述

这是一个**完全无需后端**的阿里云语音识别解决方案，专为产品原型验证设计。通过免费的文件托管服务 + 阿里云DashScope API，实现纯前端的语音识别功能。

## ✅ 优势

- **零后端成本**：无需服务器、数据库或云存储配置
- **快速验证**：5分钟内即可开始测试语音识别
- **自动容错**：多个免费服务自动切换，提高成功率
- **真实API**：使用阿里云最新的Paraformer-v2模型

## 🚀 快速开始

### 1. 获取阿里云API Key

1. 访问 [阿里云百炼平台](https://bailian.console.aliyun.com/)
2. 注册/登录阿里云账号
3. 创建应用并获取 DashScope API Key
4. 复制形如 `sk-xxxxxxxxxxxxxxxx` 的API Key

### 2. 配置应用

1. 打开应用，点击右上角⚙️设置按钮
2. 输入你的DashScope API Key
3. 点击保存

### 3. 开始使用

1. 点击中央录音按钮开始录音
2. 再次点击停止录音
3. 系统自动上传音频并调用阿里云ASR
4. 查看识别结果

## 🔧 技术原理

### 文件上传流程

```
录音 → 免费托管服务 → 获取公网URL → 阿里云ASR → 识别结果
```

### 使用的免费服务

1. **TmpFiles.org**
   - 最大文件：100MB
   - 保存时间：永久（实际可能清理）
   - 速度：快

2. **0x0.st**
   - 最大文件：512MB
   - 保存时间：永久
   - 速度：中等

3. **File.io**
   - 最大文件：100MB
   - 保存时间：14天
   - 速度：快

### 自动容错机制

- 如果第一个服务失败，自动尝试下一个
- 失败的服务会被暂时标记为不可用
- 5分钟后自动重新启用失败的服务

## 📊 支持的音频格式

- **WAV** (推荐)
- **MP3**
- **M4A**
- **AAC**
- **OGG**
- **WebM**
- **FLAC**

## ⚠️ 注意事项

### 文件大小限制
- 建议单个录音不超过 **50MB**
- 录音时长建议不超过 **30分钟**

### 网络要求
- 需要稳定的网络连接
- 上传可能需要几秒到几分钟（取决于文件大小）

### 隐私说明
- 音频文件会临时上传到第三方免费服务
- 用于产品验证，不建议上传敏感内容
- 正式产品建议使用自己的存储服务

## 🛠️ 故障排查

### 上传失败
```
错误：所有上传服务都不可用
解决：等待几分钟后重试，或检查网络连接
```

### API调用失败
```
错误：API Key未设置
解决：点击设置按钮，输入正确的DashScope API Key
```

```
错误：识别失败
解决：检查API Key是否正确，账户是否有余额
```

### 音频格式问题
```
错误：不支持的音频格式
解决：使用WAV格式录音，或转换音频格式
```

## 💡 优化建议

### 提高识别准确率
1. **清晰发音**：避免口音过重或语速过快
2. **安静环境**：减少背景噪音
3. **合适距离**：距离麦克风20-30cm
4. **标准普通话**：Paraformer对普通话识别最准确

### 减少上传时间
1. **压缩音频**：使用较低的采样率和比特率
2. **分段录音**：长录音分成多个短片段
3. **选择格式**：WAV格式通常上传最快

## 🔄 升级路径

当产品验证成功，需要正式部署时：

### 短期方案
- 使用 [Vercel](https://vercel.com) + Serverless函数
- 集成阿里云OSS存储
- 成本：几乎免费

### 长期方案
- 自建后端服务
- 专用云存储
- 更好的安全性和稳定性

## 📞 技术支持

### 常见问题
1. **Q: 免费服务会一直可用吗？**
   A: 免费服务可能会变更政策，建议仅用于原型验证

2. **Q: 识别准确率如何？**
   A: 阿里云Paraformer-v2在中文识别上准确率很高，通常>95%

3. **Q: 可以识别方言吗？**
   A: 支持粤语、吴语等主要方言，但普通话效果最佳

4. **Q: 有并发限制吗？**
   A: 免费托管服务可能有限制，建议避免同时上传多个文件

### 联系方式
- 如遇技术问题，可查看浏览器控制台的错误信息
- 阿里云API问题请参考官方文档

## 🎉 开始体验

现在你已经了解了所有必要信息，可以开始体验纯前端的语音识别功能了！

记住：这个方案专为**快速验证产品思路**设计，帮助你在没有后端技术的情况下，也能体验到真实的AI语音识别效果。
