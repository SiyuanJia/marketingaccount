# 🚀 AI语音台账 - 部署指南

## 📋 部署前准备

### 1. 代理服务器部署（必需）

由于浏览器CORS限制，您需要部署一个代理服务器来转发API请求。

#### 方案A：Vercel部署（推荐，免费）

1. **注册Vercel账号**
   - 访问 [vercel.com](https://vercel.com)
   - 使用GitHub账号登录

2. **部署代理服务**
   ```bash
   # 1. 将项目推送到GitHub
   git add .
   git commit -m "准备部署"
   git push origin main
   
   # 2. 在Vercel中导入GitHub项目
   # 3. Vercel会自动检测到vercel.json配置文件
   ```

3. **获取代理地址**
   - 部署完成后，Vercel会提供一个域名，如：`https://your-project.vercel.app`
   - 您的代理地址为：`https://your-project.vercel.app/api`

#### 方案B：其他云服务

- **阿里云函数计算**：将proxy.js部署为函数
- **腾讯云SCF**：无服务器云函数
- **AWS Lambda**：亚马逊云函数

### 2. 更新代理配置

部署完成后，更新 `js/proxy-config.js` 中的代理地址：

```javascript
this.proxies = [
    {
        url: 'https://your-actual-domain.vercel.app/api', // 替换为您的实际域名
        name: '生产代理',
        priority: 1
    },
    // ... 其他配置
];
```

## 🌐 前端部署

### 方案1：静态网站托管（推荐）

#### GitHub Pages
1. 将代码推送到GitHub
2. 在仓库设置中启用GitHub Pages
3. 选择main分支作为源

#### Vercel静态部署
1. 在Vercel中创建新项目
2. 选择静态网站模板
3. 连接GitHub仓库

#### Netlify
1. 注册Netlify账号
2. 连接GitHub仓库
3. 自动部署

### 方案2：传统Web服务器

将所有文件上传到支持静态文件的Web服务器：
- Apache
- Nginx
- IIS

## 🔧 配置API密钥

部署完成后，用户需要配置以下API密钥：

### 1. 阿里云DashScope API Key
- 用途：语音识别
- 获取：[阿里云控制台](https://dashscope.console.aliyun.com/)

### 2. 302.ai Gemini API Key
- 用途：AI分析
- 获取：[302.ai平台](https://302.ai/)

### 3. 飞书多维表格配置（可选）
- App Token：多维表格应用标识
- Table ID：具体表格ID
- Access Token：访问令牌

## 🎯 用户使用流程

1. **访问网站**：打开部署的网站地址
2. **配置API**：点击设置按钮，输入API密钥
3. **开始录音**：点击录音按钮开始使用
4. **查看分析**：录音完成后自动进行AI分析
5. **导入台账**：可选择导入到飞书多维表格

## 🔍 故障排除

### 代理服务器问题
- 检查代理服务器是否正常运行
- 验证代理地址配置是否正确
- 查看浏览器控制台错误信息

### API密钥问题
- 确认API密钥格式正确
- 检查API密钥是否有效
- 验证API配额是否充足

### CORS问题
- 确保代理服务器正常工作
- 检查代理配置是否正确
- 尝试清除浏览器缓存

## 📞 技术支持

如果遇到部署问题，请检查：
1. 浏览器控制台错误信息
2. 代理服务器日志
3. API服务状态

## 🔄 更新部署

当代码更新时：
1. 推送新代码到GitHub
2. Vercel/Netlify会自动重新部署
3. 清除用户浏览器缓存

---

**重要提醒**：
- 代理服务器是必需的，没有它项目无法正常工作
- 用户需要自己配置API密钥
- 建议提供详细的使用说明给最终用户
